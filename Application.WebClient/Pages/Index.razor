@page "/"
@inject HttpClient HttpClient
@using System.Net.Http;
@using System.Text.Json;

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>
<ul>
    @foreach (var tour in _tours)
    {
        <li>@tour.TourName - @tour.Price $</li>
    }
</ul>
Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />

@code {
    private List<Tour> _tours = new List<Tour>();

    protected override async Task OnInitializedAsync()
    {
        using (var client = new HttpClient())
        {
            var response = await client.GetAsync("https://localhost:5147/api/Tours");
            if (response.IsSuccessStatusCode)
            {
                var content = await response.Content.ReadAsStringAsync();
                _tours = JsonSerializer.Deserialize<List<Tour>>(content);
            }
        }
    }
}